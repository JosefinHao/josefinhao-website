{% extends "base.html" %}

{% block title %}Games - Josefin Hao{% endblock %}

{% block content %}
<div class="games-intro">
    <h1>üéÆ Developer Mini-Games</h1>
    <p style="color: #5f7c8a; font-size: 1rem; margin-bottom: 2rem;">
        Test your skills with these fun, interactive coding challenges!
    </p>
</div>

<!-- Grid of Games -->
<div class="games-grid">
    <!-- Game 1: Typing Speed -->
    <div class="game-card">
        <div class="game-card-header">
            <h3>‚å®Ô∏è Typing Speed Challenge</h3>
            <span class="game-badge">Active</span>
        </div>
        <p class="game-description">
            Type code snippets as fast and accurately as you can. Test your coding speed with real Python and SQL code!
        </p>
        <button class="game-launch-btn" onclick="toggleGame('typing-game')">
            Play Now
        </button>
        <div id="typing-game" class="game-container" style="display: none;">
            <p style="margin-bottom: 1rem; color: #5f7c8a; font-size: 0.95rem;">
                Type the code snippet as fast and accurately as you can!
            </p>

            <div class="typing-game-area">
                <div class="snippet-container">
                    <pre id="snippet-display" class="snippet-display">Click "Start New Challenge" to begin!</pre>
                </div>

                <textarea
                    id="user-input"
                    class="typing-input"
                    placeholder="Type the code here..."
                    disabled
                    spellcheck="false"
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                ></textarea>

                <div class="typing-controls">
                    <button id="start-typing-btn" class="typing-btn typing-btn-primary">Start New Challenge</button>
                    <button id="reset-typing-btn" class="typing-btn typing-btn-secondary" disabled>Reset</button>
                </div>

                <div id="typing-results" class="typing-results"></div>
            </div>

            <div class="leaderboard-section">
                <h4 style="margin-bottom: 0.75rem; color: #2c3e50;">üèÜ Leaderboard (Top 10)</h4>
                <div id="typing-leaderboard"></div>
            </div>
        </div>
    </div>

    <!-- Game 2: Code Memory Match -->
    <div class="game-card">
        <div class="game-card-header">
            <h3>üß† Code Memory Match</h3>
            <span class="game-badge game-badge-soon">Coming Soon</span>
        </div>
        <p class="game-description">
            Match pairs of programming concepts, syntax, and data structures. Test your memory and coding knowledge!
        </p>
        <div class="game-features">
            <ul>
                <li>Python, JavaScript, and SQL concepts</li>
                <li>Multiple difficulty levels</li>
                <li>Time-based scoring</li>
                <li>Leaderboard tracking</li>
            </ul>
        </div>
    </div>

    <!-- Game 3: Guess the Output -->
    <div class="game-card">
        <div class="game-card-header">
            <h3>üîÆ Guess the Output</h3>
            <span class="game-badge game-badge-soon">Coming Soon</span>
        </div>
        <p class="game-description">
            Look at Python or SQL code and predict what it will output. Perfect for testing your code comprehension!
        </p>
        <div class="game-features">
            <ul>
                <li>Real code snippets from Python & SQL</li>
                <li>Multiple choice answers</li>
                <li>Increasing difficulty levels</li>
                <li>Detailed explanations</li>
            </ul>
        </div>
    </div>

    <!-- Game 4: Binary Converter Challenge -->
    <div class="game-card">
        <div class="game-card-header">
            <h3>üíª Binary Converter Race</h3>
            <span class="game-badge game-badge-soon">Coming Soon</span>
        </div>
        <p class="game-description">
            Convert numbers between binary, decimal, and hexadecimal as fast as you can. Race against the clock!
        </p>
        <div class="game-features">
            <ul>
                <li>Convert between binary, decimal, hex</li>
                <li>Timed challenges</li>
                <li>Progressive difficulty</li>
                <li>Score multipliers for speed</li>
            </ul>
        </div>
    </div>

    <!-- Game 5: Algorithm Complexity Quiz -->
    <div class="game-card">
        <div class="game-card-header">
            <h3>üìä Big O Challenge</h3>
            <span class="game-badge game-badge-soon">Coming Soon</span>
        </div>
        <p class="game-description">
            Identify the time and space complexity of code snippets. Master Big O notation like a pro!
        </p>
        <div class="game-features">
            <ul>
                <li>Analyze real algorithms</li>
                <li>O(1), O(n), O(log n), O(n¬≤) and more</li>
                <li>Time and space complexity</li>
                <li>Detailed complexity explanations</li>
            </ul>
        </div>
    </div>
</div>

<script>
function toggleGame(gameId) {
    const game = document.getElementById(gameId);
    const isVisible = game.style.display === 'block';

    // Hide all games first
    document.querySelectorAll('.game-container').forEach(g => {
        g.style.display = 'none';
    });

    // Toggle the clicked game
    if (!isVisible) {
        game.style.display = 'block';
        game.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }
}
</script>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/typing-game.js') }}"></script>
{% endblock %}
